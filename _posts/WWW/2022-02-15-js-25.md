---
published: true
title: "[JS] 클로저"
categories:
 - WWW
tags:
 - [WWW, JavaScript]
toc: true
toc_sticky: true
---

📖 **모던 자바스크립트 Deep Dive** 책으로 공부하고 정리한 필기입니다.
{: .notice--primary}

- 클로저
  - 함수를 일급 객체로 취급하는 함수형 프로그래밍 언어(ex. 하스켈, 리스프, 얼랭, 스칼라 등)에서 사용되는 중요한 특성
  - MDN 정의
    - 함수와 그 함수가 선언된 렉시컬 환경과의 조합
  - 함수가 선언된 렉시컬 환경

<br/>

## 24.1 렉시컬 스코프

- 렉시컬 스코프(정적 스코프)
  - 함수를 어디서 호출했는지가 아니라 함수를 어디에 정의했는지에 따라 상위 스코프 결정
  - 상위 스코프에 대한 참조는 함수 정의가 평가되는 시점에 함수가 정의된 환경(위치)에 의해 결정

<br/>

## 24.2 함수객체의 내부 슬롯 [[Environment]]

- 자신의 내부 슬롯 [[Environment]에 자신이 정의된 환경(상위 스코프의 참조) 저장
- 상위 스코프
  - 함수 객체의 내부 슬롯 [[Environment]]에 저장된 현재 실행 중인 실행 컨텍스트의 렉시컬 환경의 참조
  - 자신이 호출되었을 때 생성될 함수 렉시컬 환경의 외부 렉시컬 환경에 대한 참조에 저장될 참조값

<br/>

## 24.3 클로저와 렉시컬 환경

- 클로저
  - 외부 함수보다 중첩 함수가 더 오래 유지되는 경우 중첩 함수는 이미 생명 주기가 종료한 외부 함수의 변수 참조 가능 ⇒ 이러한 중첩 함수 == 클로저
  - 중첩 함수가 상위 스코프의 식별자를 참조하고 있고 중첩 함수가 외부 함수보다 더 오래 유지되는 경우에 한정하는 것이 일반적

<br/>

## 24.4 클로저의 활용

- 상태를 안전하게 은닉하고 특정 함수에게만 상태 변경을 허용하기 위해 사용 ⇒ 상태를 안전하게 변경하고 유지하기 위해 사용
- 전제 조건
  1. 카운트 상태(num 변수의 값) ⇒ increase 함수가 호출되기 전까지 변경되지 않고 유지 필요
  2. 카운트 상태(num 변수의 값) ⇒ increase 함수만이 변경 가능해야 함

<br/>

## 24.5 캡슐화와 정보 은닉

- 캡슐화
  - 객체의 상태를 나타내는 프로퍼티와 프로퍼티를 참조하고 조작할 수 있는 동작인 메서드를 하나로 묶는 것

<br/>

## 24.6 자주 발생하는 실수